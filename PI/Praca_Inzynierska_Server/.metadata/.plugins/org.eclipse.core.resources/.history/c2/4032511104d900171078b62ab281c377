package com.praca_inzynierska_server.app;

import java.io.File;
import java.util.*;

public class ServerTree {
	private String[] tab = {"+","$1","$2","$3","$4","$5","$6","$7","$8","$9","$D1","$D2","$D3","$D4","$D5","$D6","$D7","$D8","$D9"};
	private String[] tabPol = {" ","π","Ê","Í","≥","Ò","Û","ú","ø","ü","•","∆"," ","£","—","”","å","Ø","è"};
	private static List<Departaments> deps = new ArrayList<>();
	
	public ServerTree(){
		try{
			Scanner s = new Scanner(new File("src/database/departaments.txt"));
			while(s.hasNextLine()){
				createDep(s.nextLine(),);
			}
			s.close();
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	public List<Departaments> getAllDep() {
		return deps;
	}
	public Departaments getDep(Integer id) {
		return deps.get(id);
	}
	
	private String replace(String name) {
		for(int i=0;i<tab.length;i++) {
			name = name.replace(tab[i], tabPol[i]);
		}
		return name;
	}
	
	private Departaments createDep(String name) {
		Departaments dep = new Departaments(replace(name),"src/database/");
		deps.add(deps.size(),dep);
		return dep;
	}
	
	public Departaments createDep(Integer id, String name) {
		Departaments dep = new Departaments(id, replace(name));
		deps.add(id,dep);
		return dep;
	}
	
	public Departaments updateDep(Integer idDep, Integer idSpec, String name) {
		Departaments dep = deps.get(idDep);
		dep.createSpec(idSpec, replace(name));
		return dep;
	}
	
	public Departaments updateSpec(Integer idDep, Integer idSpec, Integer idDeg, String name) {
		Departaments dep = deps.get(idDep);
		dep.updateSpec(idSpec, idDeg, replace(name));
		return dep;
	}
	
	public Departaments updateDeg(Integer idDep, Integer idSpec, Integer idDeg, Integer idCourse, String name) {
		Departaments dep = deps.get(idDep);
		dep.updateDeg(idSpec, idDeg, idCourse, replace(name));
		return dep;
	}
	
	public Departaments updateCourse(Integer idDep, Integer idSpec, Integer idDeg, Integer idCourse, Integer idSemester, String name) {
		Departaments dep = deps.get(idDep);
		dep.updateCourse(idSpec, idDeg, idCourse, idSemester, replace(name));
		return dep;
	}
	
	public Departaments updateSemester(Integer idDep, Integer idSpec, Integer idDeg, Integer idCourse, Integer idSemester, Integer idListOfRev, String name) {
		Departaments dep = deps.get(idDep);
		dep.updateSemester(idSpec, idDeg, idCourse, idSemester, idListOfRev, replace(name));
		return dep;
	}
}
